\usepackage{amsmath, amssymb, amsthm, thmtools, thm-restate, tikz, graphicx,
  hyperref, cleveref, comment, expl3, xparse, ebproof, enumitem, xcolor,
  stmaryrd, verbatim, todonotes, syntax}

\usepackage[titlenumbered, ruled]{algorithm2e}
\usetikzlibrary{shapes.geometric}
\usetikzlibrary{positioning}
\usetikzlibrary{cd}

\hypersetup{
  linktoc=all,
  allbordercolors={0 0 0},
  pdfborderstyle={/S/U/W 1}
}

\usepackage[mathscr]{euscript}

% https://tex.stackexchange.com/questions/37797/theorem-environment-line-break-after-label
\newtheoremstyle{break}% name
{}%         Space above, empty = `usual value'
{}%         Space below
{\itshape}% Body font
{}%         Indent amount (empty = no indent, \parindent = para indent)
{\bfseries}% Thm head font
{.}%        Punctuation after thm head
{\newline}% Space after thm head: \newline = linebreak
{}%         Thm head spec

% https://tex.stackexchange.com/questions/250035/transform-output-theoremstyleremark-from-italics-to-bold
\newtheoremstyle{boldremark}
{\dimexpr\topsep/2\relax} % space above
{\dimexpr\topsep/2\relax} % space below
{}          % body font
{}          % indent amount
{\itshape\bfseries}% theorem head font
{.}         % punctuation after theorem head
{\newline}      % space after theorem head
{}          % theorem hed spec. (empty = "normal")

\newtheoremstyle{discussion}% name
{}%         Space above, empty = `usual value'
{}%         Space below
{}% Body font
{}%         Indent amount (empty = no indent, \parindent = para indent)
{\bfseries}% Thm head font
{.}%        Punctuation after thm head
{\newline}% Space after thm head: \newline = linebreak
{}%         Thm head spec

\theoremstyle{definition}
\newtheorem{definition}{Definition}[section]
\newtheorem{notation}{Notation}[section]

\theoremstyle{break}
\newtheorem{theorem}{Theorem}[section]
\crefname{theorem}{Theorem}{Theorems}

\theoremstyle{break}
\newtheorem{corollary}{Corollary}[theorem]
\crefname{corollary}{Corollary}{Corollaries}

\theoremstyle{break}
\newtheorem{lemma}[theorem]{Lemma}
\crefname{lemma}{Lemma}{Lemmas}

\theoremstyle{remark}
\newtheorem*{remark}{Remark}

% https://latex.org/forum/viewtopic.php?t=24225
\theoremstyle{discussion}
\newtheorem{discussion}[theorem]{Discussion}
\crefname{discussion}{Discussion}{Discussions}

\theoremstyle{boldremark}
\newtheorem*{boldremark}{Remark}

% \newcommand{\powerset}{\mathscr{P}}
\newcommand{\powerset}{\mathbb{P}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\R}{\mathbb{R}}

% Partial function arrow
% https://math.stackexchange.com/questions/742614/notation-for-partial-function-set
\newcommand{\pto}{\multimap\mspace{-2mu} \to}

\DeclareMathOperator{\Type}{Type}
\DeclareMathOperator{\FV}{FV}
\DeclareMathOperator{\Pii}{Pi}
\DeclareMathOperator{\Sigmaa}{Sigma}
\DeclareMathOperator{\foralll}{forall}
\DeclareMathOperator{\fun}{fun}
\DeclareMathOperator{\deff}{def}
\DeclareMathOperator{\axiom}{axiom}
\DeclareMathOperator{\checkk}{check}
\DeclareMathOperator{\evall}{eval}
\DeclareMathOperator{\wf}{\mathcal{WF}}
\DeclareMathOperator{\fst}{fst}
\DeclareMathOperator{\snd}{snd}
\DeclareMathOperator{\Kind}{Kind}
\DeclareMathOperator{\inl}{inl}
\DeclareMathOperator{\inr}{inr}
\DeclareMathOperator{\match}{match}
\DeclareMathOperator{\existselim}{exists\_elim}

\DeclareMathOperator{\hnf}{hnf}
\DeclareMathOperator{\neutral}{neutral}

% \DeclareMathOperator{\lett}{let}
% \DeclareMathOperator{\inn}{in}

% https://math.stackexchange.com/questions/298648/is-there-a-common-symbol-for-concatenating-two-finite-sequences
\newcommand\mdoubleplus{\mathbin{+\mkern-10mu+}}

% https://tex.stackexchange.com/questions/257418/error-tightlist-converting-md-file-into-pdf-using-pandoc
% https://pandoc.org/try/?text=-+%60bin%60+currently+contains+only+%60main.ml%60+which+contains+the+main+entry+point+to%0A++interact+with+our+language.%0A-+%60lib%60+is+our+library+which+contains+all+the+code+making+our+language+work.%0A++++-+%60parsing%60+contains+all+the+functions+we+use+for+parsing.%0A++++++++-+%60lexer.ml%60+contains+our+lexer.%0A++++++++-+%60grammar.mly%60+contains+our+grammar%2C+written+using+Menhir.%0A++++++++-+%60parser.ml%60+contains+some+functions+and+boilerplate+code+tying+the%0A++++++++lexer+and+grammar+together.+This+provides+an+interface+which+we+use+to%0A++++++++parse+our+language.%0A++++-+%60kernel%60+contains+all+the+important+stuff+for+evaluating+expressions+and%0A++++statements.+These+include+normalization%2C+type+checking+and+context+management%0A++++using+de+bruijn+indices.%0A++++++++-+%60context.ml%60+is+the+module+implementing+the+context%2Fenvironment.%0A++++++++-+%60normalization.ml%60+currently+contains+the+%60normalize%60%2C+%60subst%60+and%0A++++++++%60beta_reduce%60+functions.+The+latter+2+implement+the+substitution+operation%0A++++++++for+de+bruijn+ASTs.%0A++++++++-+%60typing.ml%60+implements+our+bidirectional+typechecking+algorithm.%0A++++++++This+indluces+the+2+key+functions+%60check%60+and+%60infer%60%2C+where+%60infer%60%0A++++++++involves+synthesizing+the+type%2C+while+%60check%60+involves+verifying+if+an%0A++++++++expression+has+a+given+type.%0A++++++++-+%60eval_statements.ml%60+contains+functions+for+evaluating+statements.%0A++++-+%60common%60+contains+code+that+is+shared+between+both+%60kernel%60+and+%60parsing%60.%0A+++++++-+%60location.ml%60+contains+a+%60located%60+datatype+and+other+stuff+which+we+use+to+decorate+our+AST+in+%60ast.ml%60%0A+++++++with+source+locations.+This+info+will+be+used+for+error+reporting.%0A+++++++-+%60ast.ml%60+contains+our+AST.+It+is+parameterized+over+a+type+variable%2C+%60%27a%60%2C+where+%60%27a%60+can+either+be+%60string%60+or+%60int%60.+This+type+variable+denotes+the+type+of+variable+identifiers.+The+AST+which+our+parser+parses+the+concrete+syntax+into+uses+%60string%60+to+identify+variables%2C+while+our+internal+one%2C+used+for+typechecking+and+normalization%2C+uses+%60int%60+denoting+de+bruijn+indices+to+identify+variables.%0A+++-+%60ast_conv.ml%60+contains+facilities+for+converting+the+parser%27s+AST+to+%0A+++the+internal+AST+and+vice+versa.%0A+++-+%60error_reporting.ml%60+contains+functions+for+handling+errors+that+occur+while%0A+++running+programs+in+our+language.+These+include+pretty+printing+of+errors.%0A+++-+%60pretty_printing.ml%60+contains+utilities+for+unparsing+expressions+and+pretty%0A+++printing+them.&from=markdown&to=latex&standalone=0
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
