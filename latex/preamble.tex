\usepackage{amsmath, amssymb, amsthm, thmtools, thm-restate, tikz, graphicx,
  hyperref, cleveref, comment, expl3, xparse, ebproof, enumitem, xcolor,
  stmaryrd, backnaur, verbatim}

\usepackage[titlenumbered, ruled]{algorithm2e}
\usetikzlibrary{shapes.geometric}
\usetikzlibrary{positioning}
\usetikzlibrary{cd}

\hypersetup{
  linktoc=all,
  allbordercolors={0 0 0},
  pdfborderstyle={/S/U/W 1}
}

\usepackage[mathscr]{euscript}

% https://tex.stackexchange.com/questions/37797/theorem-environment-line-break-after-label
\newtheoremstyle{break}% name
{}%         Space above, empty = `usual value'
{}%         Space below
{\itshape}% Body font
{}%         Indent amount (empty = no indent, \parindent = para indent)
{\bfseries}% Thm head font
{.}%        Punctuation after thm head
{\newline}% Space after thm head: \newline = linebreak
{}%         Thm head spec

% https://tex.stackexchange.com/questions/250035/transform-output-theoremstyleremark-from-italics-to-bold
\newtheoremstyle{boldremark}
{\dimexpr\topsep/2\relax} % space above
{\dimexpr\topsep/2\relax} % space below
{}          % body font
{}          % indent amount
{\itshape\bfseries}% theorem head font
{.}         % punctuation after theorem head
{\newline}      % space after theorem head
{}          % theorem hed spec. (empty = "normal")

\newtheoremstyle{discussion}% name
{}%         Space above, empty = `usual value'
{}%         Space below
{}% Body font
{}%         Indent amount (empty = no indent, \parindent = para indent)
{\bfseries}% Thm head font
{.}%        Punctuation after thm head
{\newline}% Space after thm head: \newline = linebreak
{}%         Thm head spec

\theoremstyle{definition}
\newtheorem{definition}{Definition}[section]
\newtheorem{notation}{Notation}[section]

\theoremstyle{break}
\newtheorem{theorem}{Theorem}[section]
\crefname{theorem}{Theorem}{Theorems}

\theoremstyle{break}
\newtheorem{corollary}{Corollary}[theorem]
\crefname{corollary}{Corollary}{Corollaries}

\theoremstyle{break}
\newtheorem{lemma}[theorem]{Lemma}
\crefname{lemma}{Lemma}{Lemmas}

\theoremstyle{remark}
\newtheorem*{remark}{Remark}

% https://latex.org/forum/viewtopic.php?t=24225
\theoremstyle{discussion}
\newtheorem{discussion}[theorem]{Discussion}
\crefname{discussion}{Discussion}{Discussions}

\theoremstyle{boldremark}
\newtheorem*{boldremark}{Remark}

% \newcommand{\powerset}{\mathscr{P}}
\newcommand{\powerset}{\mathbb{P}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\R}{\mathbb{R}}

\newcommand{\fact}{\mathbf{fact}}

% Partial function arrow
% https://math.stackexchange.com/questions/742614/notation-for-partial-function-set
\newcommand{\pto}{\multimap\mspace{-2mu} \to}

\DeclareMathOperator{\Type}{Type}
\DeclareMathOperator{\FV}{FV}
\DeclareMathOperator{\Pii}{Pi}
\DeclareMathOperator{\Sigmaa}{Sigma}
\DeclareMathOperator{\foralll}{forall}
\DeclareMathOperator{\fun}{fun}
\DeclareMathOperator{\deff}{def}
\DeclareMathOperator{\axiom}{axiom}
\DeclareMathOperator{\checkk}{check}
\DeclareMathOperator{\evall}{eval}
\DeclareMathOperator{\wf}{wf}
\DeclareMathOperator{\fst}{fst}
\DeclareMathOperator{\snd}{snd}
\DeclareMathOperator{\Kind}{Kind}
\DeclareMathOperator{\inl}{inl}
\DeclareMathOperator{\inr}{inr}
\DeclareMathOperator{\match}{match}

% \DeclareMathOperator{\lett}{let}
% \DeclareMathOperator{\inn}{in}

% https://math.stackexchange.com/questions/298648/is-there-a-common-symbol-for-concatenating-two-finite-sequences
\newcommand\mdoubleplus{\mathbin{+\mkern-10mu+}}
