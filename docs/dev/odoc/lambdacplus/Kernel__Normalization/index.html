<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Kernel__Normalization (lambdacplus.Kernel__Normalization)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../index.html">lambdacplus</a> &#x00BB; Kernel__Normalization</nav><h1>Module <code>Kernel__Normalization</code></h1><p>This module mainly implements the substitution and normalization operations for de bruijn ASTs.</p><p>The most interesting function here is <a href="index.html#val-normalize"><code>normalize</code></a>, which corresponds to the judgment Γ ⊢ E ⇓ v as found in the semantics.</p><p>These closely follow those found in the book, Types and Programming Languages by Pierce. A link to the book is given below. The key modification is that we now have more kinds of binders than just lambdas.</p><p>Note that we do not define any exceptions here and no error reporting for these functions is defined in <a href="../Lambdacplus/Error_reporting/index.html"><code>Error_reporting</code></a> because we only normalize expressions after typechecking them and we assume nothing can go wrong when doing so. The only kind of errors that can occur here are our internal bugs and we don't report those to the user.</p><dl><dt>see <a href="https://www.cis.upenn.edu/~bcpierce/tapl/">https://www.cis.upenn.edu/~bcpierce/tapl/</a></dt><dd><p>Types and Programming Languages</p></dd></dl></header><dl><dt class="spec value" id="val-normalize"><a href="#val-normalize" class="anchor"></a><code><span class="keyword">val</span> normalize : <a href="../Kernel/Context/index.html#type-t">Kernel.Context.t</a> <span>&#45;&gt;</span> <span>int <a href="../Common/Ast/index.html#type-expr">Common.Ast.expr</a></span> <span>&#45;&gt;</span> <span>int <a href="../Common/Ast/index.html#type-expr">Common.Ast.expr</a></span></code></dt><dd><p><code>normalize ctx expr</code> normalizes <code>expr</code> with respect to <code>ctx</code>. This corresponds to Γ ⊢ E ⇓ v</p></dd></dl><dl><dt class="spec value" id="val-beta_reduce"><a href="#val-beta_reduce" class="anchor"></a><code><span class="keyword">val</span> beta_reduce : <span>int <a href="../Common/Ast/index.html#type-expr">Common.Ast.expr</a></span> <span>&#45;&gt;</span> <span>int <a href="../Common/Ast/index.html#type-expr">Common.Ast.expr</a></span> <span>&#45;&gt;</span> <span>int <a href="../Common/Ast/index.html#type-expr">Common.Ast.expr</a></span></code></dt><dd><p><code>beta_reduce body arg</code> performs the beta reduction operation on <code>body</code>.</p><p>This works by walking down the AST of <code>body</code> and replacing all variables of de bruijn index 0 with <code>arg</code>. A new expression is returned and the old one remains unchanged.</p><p>This function is used whenever we want to substitute under a binder.</p></dd></dl><dl><dt class="spec value" id="val-subst"><a href="#val-subst" class="anchor"></a><code><span class="keyword">val</span> subst : int <span>&#45;&gt;</span> <span>int <a href="../Common/Ast/index.html#type-expr">Common.Ast.expr</a></span> <span>&#45;&gt;</span> <span>int <a href="../Common/Ast/index.html#type-expr">Common.Ast.expr</a></span> <span>&#45;&gt;</span> <span>int <a href="../Common/Ast/index.html#type-expr">Common.Ast.expr</a></span></code></dt><dd><p><code>subst index expr to_expr</code> is the standard substitution operation for de bruijn ASTs.</p><p>This replaces all occurrences of the variable given by <code>index</code> in <code>expr</code> to the expression given by <code>to_expr</code>. A new expression is returned and the old one remains unchanged.</p></dd></dl></div></body></html>